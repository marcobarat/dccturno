<core:FragmentDefinition
    xmlns="sap.m"
    xmlns:app="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"
    xmlns:core="sap.ui.core"
    xmlns:u="sap.ui.unified"
    xmlns:wt="myapp.control" 
    controllerName="myapp.controller.MenuItemEventing"
    xmlns:t="sap.ui.table">
    <Dialog contentWidth="1200px" contentHeight="700px" horizontalScrolling="false" verticalScrolling="true" showHeader="false" class="colorPage"  id="modificaAttributi">
        <VBox>
            <VBox height="90%">
                <TabContainer id="attributiContainer" itemSelect="TabSelection">
                    <items>    
                        <TabContainerItem name="Attributi">
                            <content>
                                <VBox>
                                    <HBox>
                                        <VBox width="1%"/>
                                        <VBox width="20%">
                                            <VBox height="20%"/>
                                            <VBox height="10%">
                                                <ComboBox id="formato_SKU" loadItems="CaricaFormati" selectionChange="ResetConfezionamentiDialog"/>
                                            </VBox>
                                            <VBox height="15%"/>
                                            <VBox height="10%">
                                                <ComboBox id="confezione_SKU" loadItems="CaricaConfezionamenti" selectionChange="EnableDestinazioni"/>
                                            </VBox>
                                            <VBox height="15%"/>
                                            <VBox height="10%">
                                                <ComboBox id="cliente_SKU" loadItems="CaricaDestinazioni" selectionChange="ChangeSKU"/>
                                            </VBox>
                                            <VBox height="20%"/>
                                        </VBox>
                                        <VBox width="1%"/>
                                        <VBox width="78%">
                                            <wt:CustomTreeTable
                                                id="SKU_TT"
                                                rows="{path:'SKU>/attributi', parameters: {arrayNames:['attributi']}}"
                                                selectionMode="None"
                                                enableSelectAll="false"
                                                visibleRowCount="17"
                                                cellClick="TreeTableRowClickExpander"
                                                collapseRecursive="true"
                                                app:mydata="SKU_TT">
                                                <wt:toolbar>
                                                    <Toolbar>
                                                        <ToolbarSpacer/>
                                                        <Button text="Collassa" press="CollapseAll" app:mydata="SKU_TT" class="TTButton"/>
                                                        <Button text="Espandi" press="ExpandAll" app:mydata="SKU_TT" class="TTButton"/>
                                                        <Button text="Da confermare" press="ShowRelevant" app:mydata="SKU_TT" class="TTButton"/>
                                                    </Toolbar>
                                                </wt:toolbar>
                                                <wt:columns>
                                                    <t:Column resizable="false">
                                                        <Label text="ATTRIBUTI"/>
                                                        <t:template>
                                                            <wt:StyleTextTreeTableAttr text="{SKU>name}" diff="{SKU>expand}" discr="{SKU>value}" />
                                                        </t:template>
                                                    </t:Column>
                                                    <t:Column resizable="false">
                                                        <Label text="VALORE"/>
                                                        <t:template>
                                                            <HBox>
                                                                <wt:StyleTextTreeTableValue text="{SKU>value}" diff="{SKU>expand}" />
                                                            </HBox>
                                                        </t:template>
                                                    </t:Column>
                                                </wt:columns>
                                            </wt:CustomTreeTable>
                                        </VBox>
                                    </HBox>
                                </VBox>
                            </content>
                        </TabContainerItem>
                        <TabContainerItem name="Parametri">
                            <content>                 
                                <wt:CustomTreeTable
                                    id="Parametri_TT"
                                    rows="{path:'ModelParametri>/attributi', parameters: {arrayNames:['attributi']}}"
                                    selectionMode="None"
                                    ariaLabelledBy="title"
                                    visibleRowCount="10"
                                    cellClick="TreeTableRowClickExpander"
                                    app:mydata="Parametri_TT">
                                    <wt:toolbar>
                                        <Toolbar>
                                            <Button text="Ripristina valori" press="RestoreDefault" class="TTButton"/>
                                            <ToolbarSpacer/>
                                            <Button text="Collassa" press="CollapseAll" app:mydata="Parametri_TT" class="TTButton"/>
                                            <Button text="Espandi" press="ExpandAll" app:mydata="Parametri_TT" class="TTButton"/>
                                            <Button text="Da confermare" press="ShowRelevant" app:mydata="Parametri_TT" class="TTButton"/>
                                        </Toolbar>
                                    </wt:toolbar>
                                    <wt:columns>
                                        <t:Column width="15rem" resizable="false">
                                            <Label text="ATTRIBUTI"/>
                                            <t:template>
                                                <Text text="{ModelParametri>name}" />
                                            </t:template>
                                        </t:Column>
                                        <t:Column width="5rem" resizable="false">
                                            <Label text="VALORE"/>
                                            <t:template>
                                                <Text text="{ModelParametri>value}" />
                                            </t:template>
                                        </t:Column>
                                        <t:Column width="5rem" resizable="false">
                                            <Label text="SIGLE"/>
                                            <t:template>
                                                <Text text="{ModelParametri>codeValue}" visible="{= ${ModelParametri>code} === 1}" />
                                            </t:template>
                                        </t:Column>
                                        <t:Column width="5rem" resizable="false">
                                            <Label text="MODIFICA VALORE"/>
                                            <t:template>
                                                <Input value="{ModelParametri>valueModify}" editable="{= ${ModelParametri>modify} === 1}" visible="{= ${ModelParametri>modify} === 1}" class="diffStandard"/>
                                            </t:template>
                                        </t:Column>
                                        <t:Column width="5rem" resizable="false">
                                            <Label text="MODIFICA SIGLE"/>
                                            <t:template>
                                                <Input value="{ModelParametri>codeValueModify}" placeholder="{ModelParametri>codePlaceholder}" editable="{= ${ModelParametri>code} === 1}" class="diffStandard"/>
                                            </t:template>
                                        </t:Column>
                                    </wt:columns>
                                </wt:CustomTreeTable>
                            </content>
                        </TabContainerItem>                
                    </items>
                </TabContainer>
            </VBox>
            <VBox height="10%">
                <HBox>
                    <VBox width="40%">
                        <Button text="Annulla" width="100%" class="annullaButton" press="AnnullaModifiche"></Button>
                    </VBox>
                    <VBox width="20%"/>
                    <VBox width="40%">
                        <Button text="Conferma" width="100%" class="confermaButton" press="ConfermaModifiche"></Button>
                    </VBox>
                </HBox>
            </VBox>
        </VBox>
    </Dialog>

</core:FragmentDefinition>
